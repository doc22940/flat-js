/**
 * Log output module
 * 
 * author:     D. Bird
 * copyright:  Copyright (c) 2012-2017 Garrison Koch, Doug Bird, and Daniel Lepthien. All Rights Reserved.
 * 
 * @module flat/logEntry
 */(function(){if(flat===null||typeof flat!="object"||typeof flat.load!="function")throw new Error("flat/logEntry: missing flat.js");var e,t,n,r,i;(function(){var s={enableShowInUI:!0,alwaysShowInUI:!0,enableConsole:!0,nsPrefix:{error:"error",info:"info",warn:"warn"},nsPrefixFallback:"info",typeFallback:"info",nsSeparator:"."};typeof i=="undefined"&&(i=s);var o=function(e,t,n){flat.is_string(e)=="string"?this.name=e:this.name=s.nsPrefixFallback,this.message=t};o.prototype=new Error;var u=function(e,t,n){flat.is_string(e)=="string"?this.name=e:this.name="logEntryError",this.message=t,this.stack=(new Error).stack};u.prototype=new Error;var a=function(e,t,n,r){throw flat.is_string(e)&&e=="error"?new u(r,t,n):new o(r,t,n)},f={init:!1,hasConsole:null,console:{error:null,debug:null,info:null,warn:null}},l=function(e,t){this.ns=e,this.callback=t},c={},h=function(e,t){if(flat.is_string(e)&&flat.is_function(t)){var n=new l(e,t);c[e]?c[e].push(n):c[e]=[n]}},p=!1,d=function(e){if(f.init)return setTimeout(function(){d(e)},1);if(p)return setTimeout(function(){p&&d(e);return},100);p=!0;if(!flat.is_object(console))f.hasConsole=!1;else{f.hasConsole=!0;for(var t in f.console)f.console[t]=!1;flat.is_function(console.debug)&&(f.console.debug=!0),flat.is_function(console.error)&&(f.console.error=!0),flat.is_function(console.info)&&(f.console.info=!0),flat.is_function(console.warn)&&(f.console.warn=!0),flat.is_function(console.log)&&(f.console.log=!0)}f.init=!0,flat.is_func(e)&&e(),d=function(e){flat.is_func(e)&&e()}};if(typeof e!="undefined")return;e=function(e,t,n,r){d(function(){var i="";flat.is_string(t)&&(i=": "+t);var o="";flat.is_string(r)&&(o=r);var u=function(){};f.console.debug&&typeof n!="undefined"&&(u=function(){console.debug(n)});if(flat.is_string(e)){if(f.console[e]&&f.console[e]===!0)return u(),console[e](r+i);if(f.console.log)return u(),console.log("("+e+") "+o+i)}if(f.console.log)return u(),console.log("("+s.typeFallback+") "+o+i);a(e,t,n,r)})},typeof t=="undefined"&&(t=function(t,n,r){e("error",n,r,t)}),typeof n=="undefined"&&(n=function(t,n,r){e("info",n,r,t)}),typeof r=="undefined"&&(r=function(t,n,r){e("warn",n,r,t)})})(),flat.load("pushLogEntry",e),flat.load("logError",t),flat.load("logInfo",n),flat.load("logWarning",r),flat.load("logConfig",i)})();